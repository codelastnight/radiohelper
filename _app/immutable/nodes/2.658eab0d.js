import{S as ee,i as te,s as le,k as b,a as U,q as A,l as y,c as V,m as k,r as O,h as u,n as P,b as g,J as ue,G as d,K as ie,u as N,H as R,L as F,e as B,M as oe,g as W,v as be,d as z,f as ye,o as Ie,N as ae,p as ce,y as Q,z as Z,A as X,B as x,O as Ee,P as fe,w as Pe,Q as De,R as Ce,T as Te,U as Se}from"../chunks/index.dbe229c8.js";import"../chunks/paths.ba95a066.js";const Ae="AIzaSyAanMZGOi8u6GcVyErTz0xPGNcAngCs9Gk",Oe="https://www.googleapis.com/youtube/v3",ge=Oe,ke=Ae;async function Le(n,e=""){const t=`${ge}/playlistItems?key=${ke}&fields=nextPageToken,items(snippet/title,snippet/description,snippet/thumbnails/default,snippet/videoOwnerChannelTitle,snippet/resourceId/videoId)&maxResults=50&part=snippet%2CcontentDetails&playlistId=${n}&pageToken=${e||""}`;return await fetch(t)}async function Me(n){const l=`${ge}/videos?key=${ke}&fields=items(snippet/localized(title,description))&part=snippet%2CcontentDetails&id=${n}`;return await fetch(l)}function Ue(n){let e,l,t,s=n[2][n[1]]+"",o,i,c;return{c(){e=b("input"),l=U(),t=b("label"),o=A(s),this.h()},l(a){e=y(a,"INPUT",{id:!0,type:!0,placeholder:!0}),l=V(a),t=y(a,"LABEL",{for:!0});var r=k(t);o=O(r,s),r.forEach(u),this.h()},h(){P(e,"id","search"),P(e,"type","text"),P(e,"placeholder","insert playlist link"),P(t,"for","search")},m(a,r){g(a,e,r),ue(e,n[0]),g(a,l,r),g(a,t,r),d(t,o),i||(c=ie(e,"input",n[4]),i=!0)},p(a,[r]){r&1&&e.value!==a[0]&&ue(e,a[0]),r&2&&s!==(s=a[2][a[1]]+"")&&N(o,s)},i:R,o:R,d(a){a&&u(e),a&&u(l),a&&u(t),i=!1,c()}}}const Ve=/^.*(youtu.be\/|list=)([^#\&\?]*).*/;function Ne(n,e,l){let{playlistId:t=""}=e,s="";const o={null:"",invalid:"invalid youtube link!",success:""};let i="null";function c(r){if(!r)return"null";const p=r.match(Ve);return p&&p[2]?(l(3,t=p[2]),"success"):"invalid"}function a(){s=this.value,l(0,s)}return n.$$set=r=>{"playlistId"in r&&l(3,t=r.playlistId)},n.$$.update=()=>{n.$$.dirty&1&&l(1,i=c(s))},[s,i,o,t,a]}class Re extends ee{constructor(e){super(),te(this,e,Ne,Ue,le,{playlistId:3})}}let j,re=0,Y=null;function ne(){return(Y===null||Y.byteLength===0)&&(Y=new Uint8Array(j.memory.buffer)),Y}const se=new TextEncoder("utf-8"),We=typeof se.encodeInto=="function"?function(n,e){return se.encodeInto(n,e)}:function(n,e){const l=se.encode(n);return e.set(l),{read:n.length,written:l.length}};function je(n,e,l){if(l===void 0){const c=se.encode(n),a=e(c.length);return ne().subarray(a,a+c.length).set(c),re=c.length,a}let t=n.length,s=e(t);const o=ne();let i=0;for(;i<t;i++){const c=n.charCodeAt(i);if(c>127)break;o[s+i]=c}if(i!==t){i!==0&&(n=n.slice(i)),s=l(s,t,t=i+n.length*3);const c=ne().subarray(s+i,s+t),a=We(n,c);i+=a.written}return re=i,s}let J=null;function pe(){return(J===null||J.byteLength===0)&&(J=new Int32Array(j.memory.buffer)),J}const we=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});we.decode();function ze(n,e){return we.decode(ne().subarray(n,n+e))}function Be(n){try{const t=j.__wbindgen_add_to_stack_pointer(-16),s=je(n,j.__wbindgen_malloc,j.__wbindgen_realloc),o=re;j.convert_romaji(t,s,o);var e=pe()[t/4+0],l=pe()[t/4+1];return ze(e,l)}finally{j.__wbindgen_add_to_stack_pointer(16),j.__wbindgen_free(e,l)}}async function He(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(t){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}const l=await n.arrayBuffer();return await WebAssembly.instantiate(l,e)}else{const l=await WebAssembly.instantiate(n,e);return l instanceof WebAssembly.Instance?{instance:l,module:n}:l}}function Ge(){const n={};return n.wbg={},n}function qe(n,e){return j=n.exports,$e.__wbindgen_wasm_module=e,J=null,Y=null,j}async function $e(n){typeof n>"u"&&(n="assets/rustsrc_bg.wasm");const e=Ge();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:l,module:t}=await He(await n,e);return qe(l,t)}function Fe(n){let e=n[4].message+"",l;return{c(){l=A(e)},l(t){l=O(t,e)},m(t,s){g(t,l,s)},p(t,s){s&1&&e!==(e=t[4].message+"")&&N(l,e)},d(t){t&&u(l)}}}function Ke(n){let e=n[3]+"",l;return{c(){l=A(e)},l(t){l=O(t,e)},m(t,s){g(t,l,s)},p(t,s){s&1&&e!==(e=t[3]+"")&&N(l,e)},d(t){t&&u(l)}}}function Ye(n){let e;return{c(){e=A("...translating")},l(l){e=O(l,"...translating")},m(l,t){g(l,e,t)},p:R,d(l){l&&u(e)}}}function Je(n){let e,l,t={ctx:n,current:null,token:null,hasCatch:!0,pending:Ye,then:Ke,catch:Fe,value:3,error:4};return F(l=n[0],t),{c(){e=B(),t.block.c()},l(s){e=B(),t.block.l(s)},m(s,o){g(s,e,o),t.block.m(s,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(s,[o]){n=s,t.ctx=n,o&1&&l!==(l=n[0])&&F(l,t)||oe(t,n,o)},i:R,o:R,d(s){s&&u(e),t.block.d(s),t.token=null,t=null}}}function Qe(n,e,l){let t,{textString:s}=e;async function o(i){return await $e(),i?Be(i):" "}return n.$$set=i=>{"textString"in i&&l(1,s=i.textString)},n.$$.update=()=>{n.$$.dirty&2&&l(0,t=o(s))},[t,s]}class _e extends ee{constructor(e){super(),te(this,e,Qe,Je,le,{textString:1})}}function de(n){let e,l,t,s,o,i,c,a=n[0].resourceId.videoId+"",r,p,w,_,m,D,C=n[0].description+"",I,v,$={ctx:n,current:null,token:null,hasCatch:!0,pending:xe,then:Xe,catch:Ze,value:3,error:4,blocks:[,,,]};return F(_=n[1],$),{c(){e=b("div"),l=b("div"),t=b("img"),i=U(),c=b("p"),r=A(a),p=U(),w=b("div"),$.block.c(),m=U(),D=b("div"),I=A(C),this.h()},l(S){e=y(S,"DIV",{class:!0});var E=k(e);l=y(E,"DIV",{class:!0});var L=k(l);t=y(L,"IMG",{src:!0,alt:!0}),i=V(L),c=y(L,"P",{});var f=k(c);r=O(f,a),f.forEach(u),p=V(L),w=y(L,"DIV",{class:!0});var h=k(w);$.block.l(h),h.forEach(u),L.forEach(u),m=V(E),D=y(E,"DIV",{class:!0});var T=k(D);I=O(T,C),T.forEach(u),E.forEach(u),this.h()},h(){ae(t.src,s=n[0].thumbnails.default.url)||P(t,"src",s),P(t,"alt",o=n[0].title),P(w,"class","title"),P(l,"class","item"),P(D,"class","linebreaks svelte-tndjlf"),P(e,"class","details svelte-tndjlf")},m(S,E){g(S,e,E),d(e,l),d(l,t),d(l,i),d(l,c),d(c,r),d(l,p),d(l,w),$.block.m(w,$.anchor=null),$.mount=()=>w,$.anchor=null,d(e,m),d(e,D),d(D,I),v=!0},p(S,E){n=S,(!v||E&1&&!ae(t.src,s=n[0].thumbnails.default.url))&&P(t,"src",s),(!v||E&1&&o!==(o=n[0].title))&&P(t,"alt",o),(!v||E&1)&&a!==(a=n[0].resourceId.videoId+"")&&N(r,a),$.ctx=n,E&2&&_!==(_=n[1])&&F(_,$)||oe($,n,E),(!v||E&1)&&C!==(C=n[0].description+"")&&N(I,C)},i(S){v||(W($.block),v=!0)},o(S){for(let E=0;E<3;E+=1){const L=$.blocks[E];z(L)}v=!1},d(S){S&&u(e),$.block.d(),$.token=null,$=null}}}function Ze(n){let e,l=n[0].title+"",t,s,o,i=n[0].videoOwnerChannelTitle+"",c,a,r,p=n[4].message+"",w;return{c(){e=b("h3"),t=A(l),s=U(),o=b("p"),c=A(i),a=U(),r=b("p"),w=A(p),this.h()},l(_){e=y(_,"H3",{});var m=k(e);t=O(m,l),m.forEach(u),s=V(_),o=y(_,"P",{});var D=k(o);c=O(D,i),D.forEach(u),a=V(_),r=y(_,"P",{style:!0});var C=k(r);w=O(C,p),C.forEach(u),this.h()},h(){ce(r,"color","red")},m(_,m){g(_,e,m),d(e,t),g(_,s,m),g(_,o,m),d(o,c),g(_,a,m),g(_,r,m),d(r,w)},p(_,m){m&1&&l!==(l=_[0].title+"")&&N(t,l),m&1&&i!==(i=_[0].videoOwnerChannelTitle+"")&&N(c,i),m&2&&p!==(p=_[4].message+"")&&N(w,p)},i:R,o:R,d(_){_&&u(e),_&&u(s),_&&u(o),_&&u(a),_&&u(r)}}}function Xe(n){let e,l=n[3].items[0].snippet.localized.title+"",t,s,o,i,c,a,r,p=n[0].videoOwnerChannelTitle+"",w,_,m,D,C,I,v,$=n[3].items[0].snippet.localized.description+"",S,E,L;return c=new _e({props:{textString:n[0].title}}),C=new _e({props:{textString:n[0].videoOwnerChannelTitle}}),{c(){e=b("h3"),t=A(l),s=U(),o=b("h3"),i=b("span"),Q(c.$$.fragment),a=U(),r=b("p"),w=A(p),_=U(),m=b("p"),D=b("span"),Q(C.$$.fragment),I=U(),v=b("p"),S=A($),E=b("span"),this.h()},l(f){e=y(f,"H3",{});var h=k(e);t=O(h,l),h.forEach(u),s=V(f),o=y(f,"H3",{});var T=k(o);i=y(T,"SPAN",{class:!0});var M=k(i);Z(c.$$.fragment,M),M.forEach(u),T.forEach(u),a=V(f),r=y(f,"P",{});var H=k(r);w=O(H,p),H.forEach(u),_=V(f),m=y(f,"P",{});var K=k(m);D=y(K,"SPAN",{class:!0});var G=k(D);Z(C.$$.fragment,G),G.forEach(u),K.forEach(u),I=V(f),v=y(f,"P",{style:!0});var q=k(v);S=O(q,$),E=y(q,"SPAN",{class:!0}),k(E).forEach(u),q.forEach(u),this.h()},h(){P(i,"class","svelte-tndjlf"),P(D,"class","svelte-tndjlf"),P(E,"class","svelte-tndjlf"),ce(v,"max-width","40rem")},m(f,h){g(f,e,h),d(e,t),g(f,s,h),g(f,o,h),d(o,i),X(c,i,null),g(f,a,h),g(f,r,h),d(r,w),g(f,_,h),g(f,m,h),d(m,D),X(C,D,null),g(f,I,h),g(f,v,h),d(v,S),d(v,E),L=!0},p(f,h){(!L||h&2)&&l!==(l=f[3].items[0].snippet.localized.title+"")&&N(t,l);const T={};h&1&&(T.textString=f[0].title),c.$set(T),(!L||h&1)&&p!==(p=f[0].videoOwnerChannelTitle+"")&&N(w,p);const M={};h&1&&(M.textString=f[0].videoOwnerChannelTitle),C.$set(M),(!L||h&2)&&$!==($=f[3].items[0].snippet.localized.description+"")&&N(S,$)},i(f){L||(W(c.$$.fragment,f),W(C.$$.fragment,f),L=!0)},o(f){z(c.$$.fragment,f),z(C.$$.fragment,f),L=!1},d(f){f&&u(e),f&&u(s),f&&u(o),x(c),f&&u(a),f&&u(r),f&&u(_),f&&u(m),x(C),f&&u(I),f&&u(v)}}}function xe(n){let e,l=n[0].title+"",t,s,o,i=n[0].videoOwnerChannelTitle+"",c;return{c(){e=b("h3"),t=A(l),s=U(),o=b("p"),c=A(i)},l(a){e=y(a,"H3",{});var r=k(e);t=O(r,l),r.forEach(u),s=V(a),o=y(a,"P",{});var p=k(o);c=O(p,i),p.forEach(u)},m(a,r){g(a,e,r),d(e,t),g(a,s,r),g(a,o,r),d(o,c)},p(a,r){r&1&&l!==(l=a[0].title+"")&&N(t,l),r&1&&i!==(i=a[0].videoOwnerChannelTitle+"")&&N(c,i)},i:R,o:R,d(a){a&&u(e),a&&u(s),a&&u(o)}}}function et(n){let e,l,t=n[0]&&de(n);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,o){t&&t.m(s,o),g(s,e,o),l=!0},p(s,[o]){s[0]?t?(t.p(s,o),o&1&&W(t,1)):(t=de(s),t.c(),W(t,1),t.m(e.parentNode,e)):t&&(be(),z(t,1,1,()=>{t=null}),ye())},i(s){l||(W(t),l=!0)},o(s){z(t),l=!1},d(s){t&&t.d(s),s&&u(e)}}}function tt(n,e,l){let{itemData:t}=e,s;async function o(i){if(!i)throw new Error("");const c=await Me(i);if(c.ok)return await c.json();throw new Error("error")}return Ie(async()=>{}),n.$$set=i=>{"itemData"in i&&l(0,t=i.itemData)},n.$$.update=()=>{n.$$.dirty&1&&t&&l(1,s=o(t.resourceId.videoId))},[t,s]}class lt extends ee{constructor(e){super(),te(this,e,tt,et,le,{itemData:0})}}function he(n){let e,l,t,s,o,i,c,a=n[0].title+"",r,p,w,_=n[0].videoOwnerChannelTitle+"",m,D,C;return{c(){e=b("div"),l=b("img"),o=U(),i=b("div"),c=b("h3"),r=A(a),p=U(),w=b("p"),m=A(_),this.h()},l(I){e=y(I,"DIV",{class:!0});var v=k(e);l=y(v,"IMG",{src:!0,alt:!0}),o=V(v),i=y(v,"DIV",{class:!0});var $=k(i);c=y($,"H3",{class:!0});var S=k(c);r=O(S,a),S.forEach(u),p=V($),w=y($,"P",{});var E=k(w);m=O(E,_),E.forEach(u),$.forEach(u),v.forEach(u),this.h()},h(){ae(l.src,t=n[0].thumbnails.default.url)||P(l,"src",t),P(l,"alt",s=n[0].title),P(c,"class","svelte-bul54p"),P(i,"class","title svelte-bul54p"),P(e,"class","item svelte-bul54p")},m(I,v){g(I,e,v),d(e,l),d(e,o),d(e,i),d(i,c),d(c,r),d(i,p),d(i,w),d(w,m),D||(C=[ie(e,"click",n[1]),ie(e,"keypress",n[2])],D=!0)},p(I,v){v&1&&!ae(l.src,t=I[0].thumbnails.default.url)&&P(l,"src",t),v&1&&s!==(s=I[0].title)&&P(l,"alt",s),v&1&&a!==(a=I[0].title+"")&&N(r,a),v&1&&_!==(_=I[0].videoOwnerChannelTitle+"")&&N(m,_)},d(I){I&&u(e),D=!1,Ee(C)}}}function nt(n){let e,l=n[0]&&he(n);return{c(){l&&l.c(),e=B()},l(t){l&&l.l(t),e=B()},m(t,s){l&&l.m(t,s),g(t,e,s)},p(t,[s]){t[0]?l?l.p(t,s):(l=he(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:R,o:R,d(t){l&&l.d(t),t&&u(e)}}}function st(n,e,l){let{itemData:t}=e;function s(i){fe.call(this,n,i)}function o(i){fe.call(this,n,i)}return n.$$set=i=>{"itemData"in i&&l(0,t=i.itemData)},[t,s,o]}class it extends ee{constructor(e){super(),te(this,e,st,nt,le,{itemData:0})}}function me(n,e,l){const t=n.slice();return t[8]=e[l],t}function at(n){let e,l=n[11].message+"",t;return{c(){e=b("p"),t=A(l),this.h()},l(s){e=y(s,"P",{style:!0});var o=k(e);t=O(o,l),o.forEach(u),this.h()},h(){ce(e,"color","red")},m(s,o){g(s,e,o),d(e,t)},p(s,o){o&2&&l!==(l=s[11].message+"")&&N(t,l)},i:R,o:R,d(s){s&&u(e)}}}function rt(n){var c;let e=[],l=new Map,t,s,o=(c=n[7])==null?void 0:c.items;const i=a=>a[8].snippet.resourceId.videoId;for(let a=0;a<o.length;a+=1){let r=me(n,o,a),p=i(r);l.set(p,e[a]=ve(p,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=B()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);t=B()},m(a,r){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(a,r);g(a,t,r),s=!0},p(a,r){var p;r&6&&(o=(p=a[7])==null?void 0:p.items,be(),e=Te(e,r,i,1,a,o,l,t.parentNode,Se,ve,t,me),ye())},i(a){if(!s){for(let r=0;r<o.length;r+=1)W(e[r]);s=!0}},o(a){for(let r=0;r<e.length;r+=1)z(e[r]);s=!1},d(a){for(let r=0;r<e.length;r+=1)e[r].d(a);a&&u(t)}}}function ve(n,e){let l,t,s;function o(){return e[6](e[8])}return t=new it({props:{itemData:e[8].snippet}}),t.$on("click",o),{key:n,first:null,c(){l=B(),Q(t.$$.fragment),this.h()},l(i){l=B(),Z(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,c){g(i,l,c),X(t,i,c),s=!0},p(i,c){e=i;const a={};c&2&&(a.itemData=e[8].snippet),t.$set(a)},i(i){s||(W(t.$$.fragment,i),s=!0)},o(i){z(t.$$.fragment,i),s=!1},d(i){i&&u(l),x(t,i)}}}function ot(n){let e,l;return{c(){e=b("p"),l=A("loading...")},l(t){e=y(t,"P",{});var s=k(e);l=O(s,"loading..."),s.forEach(u)},m(t,s){g(t,e,s),d(e,l)},p:R,i:R,o:R,d(t){t&&u(e)}}}function ct(n){let e,l,t,s,o,i,c,a,r,p,w,_,m,D,C,I,v,$,S;function E(h){n[4](h)}let L={};n[0]!==void 0&&(L.playlistId=n[0]),i=new Re({props:L}),Pe.push(()=>De(i,"playlistId",E));let f={ctx:n,current:null,token:null,hasCatch:!0,pending:ot,then:rt,catch:at,value:7,error:11,blocks:[,,,]};return F(D=n[1],f),I=new lt({props:{itemData:n[2]}}),{c(){e=b("div"),l=b("header"),t=b("p"),s=A("https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),o=U(),Q(i.$$.fragment),a=U(),r=b("button"),p=A("reload playlist"),w=U(),_=b("div"),m=b("div"),f.block.c(),C=U(),Q(I.$$.fragment),this.h()},l(h){e=y(h,"DIV",{class:!0});var T=k(e);l=y(T,"HEADER",{class:!0});var M=k(l);t=y(M,"P",{});var H=k(t);s=O(H,"https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),H.forEach(u),o=V(M),Z(i.$$.fragment,M),a=V(M),r=y(M,"BUTTON",{});var K=k(r);p=O(K,"reload playlist"),K.forEach(u),M.forEach(u),w=V(T),_=y(T,"DIV",{class:!0});var G=k(_);m=y(G,"DIV",{class:!0});var q=k(m);f.block.l(q),q.forEach(u),C=V(G),Z(I.$$.fragment,G),G.forEach(u),T.forEach(u),this.h()},h(){P(l,"class","flex gap svelte-19mpaog"),P(m,"class","list svelte-19mpaog"),P(_,"class","grid gap svelte-19mpaog"),P(e,"class","flex main svelte-19mpaog")},m(h,T){g(h,e,T),d(e,l),d(l,t),d(t,s),d(l,o),X(i,l,null),d(l,a),d(l,r),d(r,p),d(e,w),d(e,_),d(_,m),f.block.m(m,f.anchor=null),f.mount=()=>m,f.anchor=null,d(_,C),X(I,_,null),v=!0,$||(S=ie(r,"click",n[5]),$=!0)},p(h,[T]){n=h;const M={};!c&&T&1&&(c=!0,M.playlistId=n[0],Ce(()=>c=!1)),i.$set(M),f.ctx=n,T&2&&D!==(D=n[1])&&F(D,f)||oe(f,n,T);const H={};T&4&&(H.itemData=n[2]),I.$set(H)},i(h){v||(W(i.$$.fragment,h),W(f.block),W(I.$$.fragment,h),v=!0)},o(h){z(i.$$.fragment,h);for(let T=0;T<3;T+=1){const M=f.blocks[T];z(M)}z(I.$$.fragment,h),v=!1},d(h){h&&u(e),x(i),f.block.d(),f.token=null,f=null,x(I),$=!1,S()}}}function ut(n,e,l){let t="",s,o;async function i(p){if(!p)throw new Error("");const w=await Le(p);if(w.ok)return await w.json();throw new Error("error")}function c(p){t=p,l(0,t)}const a=()=>i(t),r=p=>l(2,o=p.snippet);return n.$$.update=()=>{n.$$.dirty&1&&l(1,s=i(t))},[t,s,o,i,c,a,r]}class _t extends ee{constructor(e){super(),te(this,e,ut,ct,le,{})}}export{_t as component};
