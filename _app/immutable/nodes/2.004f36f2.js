import{S as ee,i as te,s as le,k as m,a as V,q as O,l as v,c as z,m as g,r as L,h as u,n as P,b as y,J as pe,G as _,K as ae,u as R,H as W,L as K,e as G,M as ce,g as j,v as ge,d as H,f as we,o as De,N as re,p as ue,y as Q,z as Z,A as X,B as x,O as Ce,P as _e,w as Te,Q as Se,R as Ae,T as Oe,U as Le}from"../chunks/index.dbe229c8.js";import{v as de}from"../chunks/environment.4e7eebd3.js";const Me="AIzaSyAanMZGOi8u6GcVyErTz0xPGNcAngCs9Gk",Ue="https://www.googleapis.com/youtube/v3",$e=Ue,Ie=Me;async function Ve(n,e=""){const t=`${$e}/playlistItems?key=${Ie}&fields=nextPageToken,items(snippet/title,snippet/description,snippet/thumbnails/default,snippet/videoOwnerChannelTitle,snippet/resourceId/videoId)&maxResults=50&part=snippet%2CcontentDetails&playlistId=${n}&pageToken=${e||""}`;return await fetch(t)}async function ze(n){const l=`${$e}/videos?key=${Ie}&fields=items(snippet/localized(title,description))&part=snippet%2CcontentDetails&id=${n}`;return await fetch(l)}function Ne(n){let e,l,t,s=n[2][n[1]]+"",o,i,c;return{c(){e=m("input"),l=V(),t=m("label"),o=O(s),this.h()},l(a){e=v(a,"INPUT",{id:!0,type:!0,placeholder:!0}),l=z(a),t=v(a,"LABEL",{for:!0});var r=g(t);o=L(r,s),r.forEach(u),this.h()},h(){P(e,"id","search"),P(e,"type","text"),P(e,"placeholder","insert playlist link"),P(t,"for","search")},m(a,r){y(a,e,r),pe(e,n[0]),y(a,l,r),y(a,t,r),_(t,o),i||(c=ae(e,"input",n[4]),i=!0)},p(a,[r]){r&1&&e.value!==a[0]&&pe(e,a[0]),r&2&&s!==(s=a[2][a[1]]+"")&&R(o,s)},i:W,o:W,d(a){a&&u(e),a&&u(l),a&&u(t),i=!1,c()}}}const Re=/^.*(youtu.be\/|list=)([^#\&\?]*).*/;function We(n,e,l){let{playlistId:t=""}=e,s="";const o={null:"",invalid:"invalid youtube link!",success:""};let i="null";function c(r){if(!r)return"null";const f=r.match(Re);return f&&f[2]?(l(3,t=f[2]),"success"):"invalid"}function a(){s=this.value,l(0,s)}return n.$$set=r=>{"playlistId"in r&&l(3,t=r.playlistId)},n.$$.update=()=>{n.$$.dirty&1&&l(1,i=c(s))},[s,i,o,t,a]}class je extends ee{constructor(e){super(),te(this,e,We,Ne,le,{playlistId:3})}}let B,oe=0,Y=null;function se(){return(Y===null||Y.byteLength===0)&&(Y=new Uint8Array(B.memory.buffer)),Y}const ie=new TextEncoder("utf-8"),Be=typeof ie.encodeInto=="function"?function(n,e){return ie.encodeInto(n,e)}:function(n,e){const l=ie.encode(n);return e.set(l),{read:n.length,written:l.length}};function He(n,e,l){if(l===void 0){const c=ie.encode(n),a=e(c.length);return se().subarray(a,a+c.length).set(c),oe=c.length,a}let t=n.length,s=e(t);const o=se();let i=0;for(;i<t;i++){const c=n.charCodeAt(i);if(c>127)break;o[s+i]=c}if(i!==t){i!==0&&(n=n.slice(i)),s=l(s,t,t=i+n.length*3);const c=se().subarray(s+i,s+t),a=Be(n,c);i+=a.written}return oe=i,s}let J=null;function he(){return(J===null||J.byteLength===0)&&(J=new Int32Array(B.memory.buffer)),J}const Ee=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ee.decode();function Ge(n,e){return Ee.decode(se().subarray(n,n+e))}function qe(n){try{const t=B.__wbindgen_add_to_stack_pointer(-16),s=He(n,B.__wbindgen_malloc,B.__wbindgen_realloc),o=oe;B.convert_romaji(t,s,o);var e=he()[t/4+0],l=he()[t/4+1];return Ge(e,l)}finally{B.__wbindgen_add_to_stack_pointer(16),B.__wbindgen_free(e,l)}}async function Fe(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(t){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}const l=await n.arrayBuffer();return await WebAssembly.instantiate(l,e)}else{const l=await WebAssembly.instantiate(n,e);return l instanceof WebAssembly.Instance?{instance:l,module:n}:l}}function Ke(){const n={};return n.wbg={},n}function Ye(n,e){return B=n.exports,Pe.__wbindgen_wasm_module=e,J=null,Y=null,B}async function Pe(n){typeof n>"u"&&(n="assets/rustsrc_bg.wasm");const e=Ke();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:l,module:t}=await Fe(await n,e);return Ye(l,t)}function Je(n){let e=n[4].message+"",l;return{c(){l=O(e)},l(t){l=L(t,e)},m(t,s){y(t,l,s)},p(t,s){s&1&&e!==(e=t[4].message+"")&&R(l,e)},d(t){t&&u(l)}}}function Qe(n){let e=n[3]+"",l;return{c(){l=O(e)},l(t){l=L(t,e)},m(t,s){y(t,l,s)},p(t,s){s&1&&e!==(e=t[3]+"")&&R(l,e)},d(t){t&&u(l)}}}function Ze(n){let e;return{c(){e=O("...translating")},l(l){e=L(l,"...translating")},m(l,t){y(l,e,t)},p:W,d(l){l&&u(e)}}}function Xe(n){let e,l,t={ctx:n,current:null,token:null,hasCatch:!0,pending:Ze,then:Qe,catch:Je,value:3,error:4};return K(l=n[0],t),{c(){e=G(),t.block.c()},l(s){e=G(),t.block.l(s)},m(s,o){y(s,e,o),t.block.m(s,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(s,[o]){n=s,t.ctx=n,o&1&&l!==(l=n[0])&&K(l,t)||ce(t,n,o)},i:W,o:W,d(s){s&&u(e),t.block.d(s),t.token=null,t=null}}}function xe(n,e,l){let t,{textString:s}=e;async function o(i){return await Pe(),i?qe(i):" "}return n.$$set=i=>{"textString"in i&&l(1,s=i.textString)},n.$$.update=()=>{n.$$.dirty&2&&l(0,t=o(s))},[t,s]}class me extends ee{constructor(e){super(),te(this,e,xe,Xe,le,{textString:1})}}function ve(n){let e,l,t,s,o,i,c,a=n[0].resourceId.videoId+"",r,f,w,d,k,I,E=n[0].description+"",D,b,h={ctx:n,current:null,token:null,hasCatch:!0,pending:lt,then:tt,catch:et,value:3,error:4,blocks:[,,,]};return K(d=n[1],h),{c(){e=m("div"),l=m("div"),t=m("img"),i=V(),c=m("p"),r=O(a),f=V(),w=m("div"),h.block.c(),k=V(),I=m("div"),D=O(E),this.h()},l(S){e=v(S,"DIV",{class:!0});var $=g(e);l=v($,"DIV",{class:!0});var M=g(l);t=v(M,"IMG",{src:!0,alt:!0}),i=z(M),c=v(M,"P",{});var p=g(c);r=L(p,a),p.forEach(u),f=z(M),w=v(M,"DIV",{class:!0});var C=g(w);h.block.l(C),C.forEach(u),M.forEach(u),k=z($),I=v($,"DIV",{class:!0});var T=g(I);D=L(T,E),T.forEach(u),$.forEach(u),this.h()},h(){re(t.src,s=n[0].thumbnails.default.url)||P(t,"src",s),P(t,"alt",o=n[0].title),P(w,"class","title"),P(l,"class","item"),P(I,"class","linebreaks svelte-tndjlf"),P(e,"class","details svelte-tndjlf")},m(S,$){y(S,e,$),_(e,l),_(l,t),_(l,i),_(l,c),_(c,r),_(l,f),_(l,w),h.block.m(w,h.anchor=null),h.mount=()=>w,h.anchor=null,_(e,k),_(e,I),_(I,D),b=!0},p(S,$){n=S,(!b||$&1&&!re(t.src,s=n[0].thumbnails.default.url))&&P(t,"src",s),(!b||$&1&&o!==(o=n[0].title))&&P(t,"alt",o),(!b||$&1)&&a!==(a=n[0].resourceId.videoId+"")&&R(r,a),h.ctx=n,$&2&&d!==(d=n[1])&&K(d,h)||ce(h,n,$),(!b||$&1)&&E!==(E=n[0].description+"")&&R(D,E)},i(S){b||(j(h.block),b=!0)},o(S){for(let $=0;$<3;$+=1){const M=h.blocks[$];H(M)}b=!1},d(S){S&&u(e),h.block.d(),h.token=null,h=null}}}function et(n){let e,l=n[0].title+"",t,s,o,i=n[0].videoOwnerChannelTitle+"",c,a,r,f=n[4].message+"",w;return{c(){e=m("h3"),t=O(l),s=V(),o=m("p"),c=O(i),a=V(),r=m("p"),w=O(f),this.h()},l(d){e=v(d,"H3",{});var k=g(e);t=L(k,l),k.forEach(u),s=z(d),o=v(d,"P",{});var I=g(o);c=L(I,i),I.forEach(u),a=z(d),r=v(d,"P",{style:!0});var E=g(r);w=L(E,f),E.forEach(u),this.h()},h(){ue(r,"color","red")},m(d,k){y(d,e,k),_(e,t),y(d,s,k),y(d,o,k),_(o,c),y(d,a,k),y(d,r,k),_(r,w)},p(d,k){k&1&&l!==(l=d[0].title+"")&&R(t,l),k&1&&i!==(i=d[0].videoOwnerChannelTitle+"")&&R(c,i),k&2&&f!==(f=d[4].message+"")&&R(w,f)},i:W,o:W,d(d){d&&u(e),d&&u(s),d&&u(o),d&&u(a),d&&u(r)}}}function tt(n){let e,l=n[3].items[0].snippet.localized.title+"",t,s,o,i,c,a,r,f=n[0].videoOwnerChannelTitle+"",w,d,k,I,E,D,b,h=n[3].items[0].snippet.localized.description+"",S,$,M;return c=new me({props:{textString:n[0].title}}),E=new me({props:{textString:n[0].videoOwnerChannelTitle}}),{c(){e=m("h3"),t=O(l),s=V(),o=m("h3"),i=m("span"),Q(c.$$.fragment),a=V(),r=m("p"),w=O(f),d=V(),k=m("p"),I=m("span"),Q(E.$$.fragment),D=V(),b=m("p"),S=O(h),$=m("span"),this.h()},l(p){e=v(p,"H3",{});var C=g(e);t=L(C,l),C.forEach(u),s=z(p),o=v(p,"H3",{});var T=g(o);i=v(T,"SPAN",{class:!0});var A=g(i);Z(c.$$.fragment,A),A.forEach(u),T.forEach(u),a=z(p),r=v(p,"P",{});var U=g(r);w=L(U,f),U.forEach(u),d=z(p),k=v(p,"P",{});var N=g(k);I=v(N,"SPAN",{class:!0});var q=g(I);Z(E.$$.fragment,q),q.forEach(u),N.forEach(u),D=z(p),b=v(p,"P",{style:!0});var F=g(b);S=L(F,h),$=v(F,"SPAN",{class:!0}),g($).forEach(u),F.forEach(u),this.h()},h(){P(i,"class","svelte-tndjlf"),P(I,"class","svelte-tndjlf"),P($,"class","svelte-tndjlf"),ue(b,"max-width","40rem")},m(p,C){y(p,e,C),_(e,t),y(p,s,C),y(p,o,C),_(o,i),X(c,i,null),y(p,a,C),y(p,r,C),_(r,w),y(p,d,C),y(p,k,C),_(k,I),X(E,I,null),y(p,D,C),y(p,b,C),_(b,S),_(b,$),M=!0},p(p,C){(!M||C&2)&&l!==(l=p[3].items[0].snippet.localized.title+"")&&R(t,l);const T={};C&1&&(T.textString=p[0].title),c.$set(T),(!M||C&1)&&f!==(f=p[0].videoOwnerChannelTitle+"")&&R(w,f);const A={};C&1&&(A.textString=p[0].videoOwnerChannelTitle),E.$set(A),(!M||C&2)&&h!==(h=p[3].items[0].snippet.localized.description+"")&&R(S,h)},i(p){M||(j(c.$$.fragment,p),j(E.$$.fragment,p),M=!0)},o(p){H(c.$$.fragment,p),H(E.$$.fragment,p),M=!1},d(p){p&&u(e),p&&u(s),p&&u(o),x(c),p&&u(a),p&&u(r),p&&u(d),p&&u(k),x(E),p&&u(D),p&&u(b)}}}function lt(n){let e,l=n[0].title+"",t,s,o,i=n[0].videoOwnerChannelTitle+"",c;return{c(){e=m("h3"),t=O(l),s=V(),o=m("p"),c=O(i)},l(a){e=v(a,"H3",{});var r=g(e);t=L(r,l),r.forEach(u),s=z(a),o=v(a,"P",{});var f=g(o);c=L(f,i),f.forEach(u)},m(a,r){y(a,e,r),_(e,t),y(a,s,r),y(a,o,r),_(o,c)},p(a,r){r&1&&l!==(l=a[0].title+"")&&R(t,l),r&1&&i!==(i=a[0].videoOwnerChannelTitle+"")&&R(c,i)},i:W,o:W,d(a){a&&u(e),a&&u(s),a&&u(o)}}}function nt(n){let e,l,t=n[0]&&ve(n);return{c(){t&&t.c(),e=G()},l(s){t&&t.l(s),e=G()},m(s,o){t&&t.m(s,o),y(s,e,o),l=!0},p(s,[o]){s[0]?t?(t.p(s,o),o&1&&j(t,1)):(t=ve(s),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(ge(),H(t,1,1,()=>{t=null}),we())},i(s){l||(j(t),l=!0)},o(s){H(t),l=!1},d(s){t&&t.d(s),s&&u(e)}}}function st(n,e,l){let{itemData:t}=e,s;async function o(i){if(!i)throw new Error("");const c=await ze(i);if(c.ok)return await c.json();throw new Error("error")}return De(async()=>{}),n.$$set=i=>{"itemData"in i&&l(0,t=i.itemData)},n.$$.update=()=>{n.$$.dirty&1&&t&&l(1,s=o(t.resourceId.videoId))},[t,s]}class it extends ee{constructor(e){super(),te(this,e,st,nt,le,{itemData:0})}}function be(n){let e,l,t,s,o,i,c,a=n[0].title+"",r,f,w,d=n[0].videoOwnerChannelTitle+"",k,I,E;return{c(){e=m("div"),l=m("img"),o=V(),i=m("div"),c=m("h3"),r=O(a),f=V(),w=m("p"),k=O(d),this.h()},l(D){e=v(D,"DIV",{class:!0});var b=g(e);l=v(b,"IMG",{src:!0,alt:!0}),o=z(b),i=v(b,"DIV",{class:!0});var h=g(i);c=v(h,"H3",{class:!0});var S=g(c);r=L(S,a),S.forEach(u),f=z(h),w=v(h,"P",{});var $=g(w);k=L($,d),$.forEach(u),h.forEach(u),b.forEach(u),this.h()},h(){re(l.src,t=n[0].thumbnails.default.url)||P(l,"src",t),P(l,"alt",s=n[0].title),P(c,"class","svelte-bul54p"),P(i,"class","title svelte-bul54p"),P(e,"class","item svelte-bul54p")},m(D,b){y(D,e,b),_(e,l),_(e,o),_(e,i),_(i,c),_(c,r),_(i,f),_(i,w),_(w,k),I||(E=[ae(e,"click",n[1]),ae(e,"keypress",n[2])],I=!0)},p(D,b){b&1&&!re(l.src,t=D[0].thumbnails.default.url)&&P(l,"src",t),b&1&&s!==(s=D[0].title)&&P(l,"alt",s),b&1&&a!==(a=D[0].title+"")&&R(r,a),b&1&&d!==(d=D[0].videoOwnerChannelTitle+"")&&R(k,d)},d(D){D&&u(e),I=!1,Ce(E)}}}function at(n){let e,l=n[0]&&be(n);return{c(){l&&l.c(),e=G()},l(t){l&&l.l(t),e=G()},m(t,s){l&&l.m(t,s),y(t,e,s)},p(t,[s]){t[0]?l?l.p(t,s):(l=be(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:W,o:W,d(t){l&&l.d(t),t&&u(e)}}}function rt(n,e,l){let{itemData:t}=e;function s(i){_e.call(this,n,i)}function o(i){_e.call(this,n,i)}return n.$$set=i=>{"itemData"in i&&l(0,t=i.itemData)},[t,s,o]}class ot extends ee{constructor(e){super(),te(this,e,rt,at,le,{itemData:0})}}function ye(n,e,l){const t=n.slice();return t[8]=e[l],t}function ct(n){let e,l=n[11].message+"",t;return{c(){e=m("p"),t=O(l),this.h()},l(s){e=v(s,"P",{style:!0});var o=g(e);t=L(o,l),o.forEach(u),this.h()},h(){ue(e,"color","red")},m(s,o){y(s,e,o),_(e,t)},p(s,o){o&2&&l!==(l=s[11].message+"")&&R(t,l)},i:W,o:W,d(s){s&&u(e)}}}function ut(n){var c;let e=[],l=new Map,t,s,o=(c=n[7])==null?void 0:c.items;const i=a=>a[8].snippet.resourceId.videoId;for(let a=0;a<o.length;a+=1){let r=ye(n,o,a),f=i(r);l.set(f,e[a]=ke(f,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=G()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);t=G()},m(a,r){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,r);y(a,t,r),s=!0},p(a,r){var f;r&6&&(o=(f=a[7])==null?void 0:f.items,ge(),e=Oe(e,r,i,1,a,o,l,t.parentNode,Le,ke,t,ye),we())},i(a){if(!s){for(let r=0;r<o.length;r+=1)j(e[r]);s=!0}},o(a){for(let r=0;r<e.length;r+=1)H(e[r]);s=!1},d(a){for(let r=0;r<e.length;r+=1)e[r].d(a);a&&u(t)}}}function ke(n,e){let l,t,s;function o(){return e[6](e[8])}return t=new ot({props:{itemData:e[8].snippet}}),t.$on("click",o),{key:n,first:null,c(){l=G(),Q(t.$$.fragment),this.h()},l(i){l=G(),Z(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,c){y(i,l,c),X(t,i,c),s=!0},p(i,c){e=i;const a={};c&2&&(a.itemData=e[8].snippet),t.$set(a)},i(i){s||(j(t.$$.fragment,i),s=!0)},o(i){H(t.$$.fragment,i),s=!1},d(i){i&&u(l),x(t,i)}}}function ft(n){let e,l;return{c(){e=m("p"),l=O("loading...")},l(t){e=v(t,"P",{});var s=g(e);l=L(s,"loading..."),s.forEach(u)},m(t,s){y(t,e,s),_(e,l)},p:W,i:W,o:W,d(t){t&&u(e)}}}function pt(n){let e,l,t,s,o,i,c,a,r,f,w,d,k,I,E,D,b,h,S,$,M;function p(A){n[4](A)}let C={};n[0]!==void 0&&(C.playlistId=n[0]),t=new je({props:C}),Te.push(()=>Se(t,"playlistId",p));let T={ctx:n,current:null,token:null,hasCatch:!0,pending:ft,then:ut,catch:ct,value:7,error:11,blocks:[,,,]};return K(D=n[1],T),h=new it({props:{itemData:n[2]}}),{c(){e=m("div"),l=m("header"),Q(t.$$.fragment),o=V(),i=m("button"),c=O("reload playlist"),a=V(),r=m("p"),f=O("https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),w=V(),d=O(de),k=V(),I=m("div"),E=m("div"),T.block.c(),b=V(),Q(h.$$.fragment),this.h()},l(A){e=v(A,"DIV",{class:!0});var U=g(e);l=v(U,"HEADER",{class:!0});var N=g(l);Z(t.$$.fragment,N),o=z(N),i=v(N,"BUTTON",{});var q=g(i);c=L(q,"reload playlist"),q.forEach(u),a=z(N),r=v(N,"P",{});var F=g(r);f=L(F,"https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),F.forEach(u),w=z(N),d=L(N,de),N.forEach(u),k=z(U),I=v(U,"DIV",{class:!0});var ne=g(I);E=v(ne,"DIV",{class:!0});var fe=g(E);T.block.l(fe),fe.forEach(u),b=z(ne),Z(h.$$.fragment,ne),ne.forEach(u),U.forEach(u),this.h()},h(){P(l,"class","flex gap svelte-1l4drvz"),P(E,"class","list svelte-1l4drvz"),P(I,"class","grid gap svelte-1l4drvz"),P(e,"class","flex main svelte-1l4drvz")},m(A,U){y(A,e,U),_(e,l),X(t,l,null),_(l,o),_(l,i),_(i,c),_(l,a),_(l,r),_(r,f),_(l,w),_(l,d),_(e,k),_(e,I),_(I,E),T.block.m(E,T.anchor=null),T.mount=()=>E,T.anchor=null,_(I,b),X(h,I,null),S=!0,$||(M=ae(i,"click",n[5]),$=!0)},p(A,[U]){n=A;const N={};!s&&U&1&&(s=!0,N.playlistId=n[0],Ae(()=>s=!1)),t.$set(N),T.ctx=n,U&2&&D!==(D=n[1])&&K(D,T)||ce(T,n,U);const q={};U&4&&(q.itemData=n[2]),h.$set(q)},i(A){S||(j(t.$$.fragment,A),j(T.block),j(h.$$.fragment,A),S=!0)},o(A){H(t.$$.fragment,A);for(let U=0;U<3;U+=1){const N=T.blocks[U];H(N)}H(h.$$.fragment,A),S=!1},d(A){A&&u(e),x(t),T.block.d(),T.token=null,T=null,x(h),$=!1,M()}}}function _t(n,e,l){let t="",s,o;async function i(f){if(!f)throw new Error("");const w=await Ve(f);if(w.ok)return await w.json();throw new Error("error")}function c(f){t=f,l(0,t)}const a=()=>i(t),r=f=>l(2,o=f.snippet);return n.$$.update=()=>{n.$$.dirty&1&&l(1,s=i(t))},[t,s,o,i,c,a,r]}class mt extends ee{constructor(e){super(),te(this,e,_t,pt,le,{})}}export{mt as component};
