import{S as J,i as Q,s as Y,k as v,a as O,q as B,l as y,c as A,m as b,r as G,h as f,n as h,b as V,I as te,G as u,J as K,u as z,B as L,e as N,o as oe,K as j,L as ce,M as le,N as ue,O as pe,P as se,w as Z,x as F,y as W,Q as fe,R as _e,f as R,t as S,z as X,p as de,g as he,T as me,d as ve,U as ye}from"../../chunks/index-5106a8e9.js";const ge="AIzaSyAanMZGOi8u6GcVyErTz0xPGNcAngCs9Gk",be="https://www.googleapis.com/youtube/v3",ke=be,Ie=ge;async function $e(s,e=""){const l=`${ke}/playlistItems?key=${Ie}&fields=nextPageToken,items(snippet/title,snippet/description,snippet/thumbnails/default,snippet/videoOwnerChannelTitle,snippet/resourceId/videoId)&maxResults=50&part=snippet%2CcontentDetails&playlistId=${s}&pageToken=${e||""}`;return await fetch(l)}function De(s){let e,t,l,a=s[2][s[1]]+"",o,r,c;return{c(){e=v("input"),t=O(),l=v("label"),o=B(a),this.h()},l(i){e=y(i,"INPUT",{id:!0,type:!0,placeholder:!0}),t=A(i),l=y(i,"LABEL",{for:!0});var n=b(l);o=G(n,a),n.forEach(f),this.h()},h(){h(e,"id","search"),h(e,"type","text"),h(e,"placeholder","insert playlist link"),h(l,"for","search")},m(i,n){V(i,e,n),te(e,s[0]),V(i,t,n),V(i,l,n),u(l,o),r||(c=K(e,"input",s[4]),r=!0)},p(i,[n]){n&1&&e.value!==i[0]&&te(e,i[0]),n&2&&a!==(a=i[2][i[1]]+"")&&z(o,a)},i:L,o:L,d(i){i&&f(e),i&&f(t),i&&f(l),r=!1,c()}}}const Ee=/^.*(youtu.be\/|list=)([^#\&\?]*).*/;function we(s,e,t){let{playlistId:l=""}=e,a="";const o={null:"",invalid:"invalid youtube link!",success:""};let r="null";function c(n){if(!n)return"null";const p=n.match(Ee);return p&&p[2]?(t(3,l=p[2]),"success"):"invalid"}function i(){a=this.value,t(0,a)}return s.$$set=n=>{"playlistId"in n&&t(3,l=n.playlistId)},s.$$.update=()=>{s.$$.dirty&1&&t(1,r=c(a))},[a,r,o,l,i]}class Pe extends J{constructor(e){super(),Q(this,e,we,De,Y,{playlistId:3})}}function ae(s){let e,t,l,a,o,r,c,i,n=s[0].title+"",p,w,d,k=s[0].videoOwnerChannelTitle+"",C,U,_,m=s[0].description+"",T;return{c(){e=v("div"),t=v("div"),l=v("img"),r=O(),c=v("div"),i=v("h3"),p=B(n),w=O(),d=v("p"),C=B(k),U=O(),_=v("div"),T=B(m),this.h()},l(D){e=y(D,"DIV",{class:!0});var E=b(e);t=y(E,"DIV",{class:!0});var M=b(t);l=y(M,"IMG",{src:!0,alt:!0}),r=A(M),c=y(M,"DIV",{class:!0});var g=b(c);i=y(g,"H3",{});var I=b(i);p=G(I,n),I.forEach(f),w=A(g),d=y(g,"P",{});var $=b(d);C=G($,k),$.forEach(f),g.forEach(f),M.forEach(f),U=A(E),_=y(E,"DIV",{class:!0});var P=b(_);T=G(P,m),P.forEach(f),E.forEach(f),this.h()},h(){j(l.src,a=s[0].thumbnails.default.url)||h(l,"src",a),h(l,"alt",o=s[0].title),h(c,"class","title"),h(t,"class","item"),h(_,"class","linebreaks svelte-4a4czk"),h(e,"class","details svelte-4a4czk")},m(D,E){V(D,e,E),u(e,t),u(t,l),u(t,r),u(t,c),u(c,i),u(i,p),u(c,w),u(c,d),u(d,C),u(e,U),u(e,_),u(_,T)},p(D,E){E&1&&!j(l.src,a=D[0].thumbnails.default.url)&&h(l,"src",a),E&1&&o!==(o=D[0].title)&&h(l,"alt",o),E&1&&n!==(n=D[0].title+"")&&z(p,n),E&1&&k!==(k=D[0].videoOwnerChannelTitle+"")&&z(C,k),E&1&&m!==(m=D[0].description+"")&&z(T,m)},d(D){D&&f(e)}}}function Ce(s){let e,t=s[0]&&ae(s);return{c(){t&&t.c(),e=N()},l(l){t&&t.l(l),e=N()},m(l,a){t&&t.m(l,a),V(l,e,a)},p(l,[a]){l[0]?t?t.p(l,a):(t=ae(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(l){t&&t.d(l),l&&f(e)}}}function Te(s,e,t){let{itemData:l}=e;return oe(async()=>{}),s.$$set=a=>{"itemData"in a&&t(0,l=a.itemData)},[l]}class Ve extends J{constructor(e){super(),Q(this,e,Te,Ce,Y,{itemData:0})}}function ie(s){let e,t,l,a,o,r,c,i=s[0].title+"",n,p,w,d=s[0].videoOwnerChannelTitle+"",k,C,U;return{c(){e=v("div"),t=v("img"),o=O(),r=v("div"),c=v("h3"),n=B(i),p=O(),w=v("p"),k=B(d),this.h()},l(_){e=y(_,"DIV",{class:!0});var m=b(e);t=y(m,"IMG",{src:!0,alt:!0}),o=A(m),r=y(m,"DIV",{class:!0});var T=b(r);c=y(T,"H3",{class:!0});var D=b(c);n=G(D,i),D.forEach(f),p=A(T),w=y(T,"P",{});var E=b(w);k=G(E,d),E.forEach(f),T.forEach(f),m.forEach(f),this.h()},h(){j(t.src,l=s[0].thumbnails.default.url)||h(t,"src",l),h(t,"alt",a=s[0].title),h(c,"class","svelte-bul54p"),h(r,"class","title svelte-bul54p"),h(e,"class","item svelte-bul54p")},m(_,m){V(_,e,m),u(e,t),u(e,o),u(e,r),u(r,c),u(c,n),u(r,p),u(r,w),u(w,k),C||(U=[K(e,"click",s[1]),K(e,"keypress",s[2])],C=!0)},p(_,m){m&1&&!j(t.src,l=_[0].thumbnails.default.url)&&h(t,"src",l),m&1&&a!==(a=_[0].title)&&h(t,"alt",a),m&1&&i!==(i=_[0].title+"")&&z(n,i),m&1&&d!==(d=_[0].videoOwnerChannelTitle+"")&&z(k,d)},d(_){_&&f(e),C=!1,ce(U)}}}function Le(s){let e,t=s[0]&&ie(s);return{c(){t&&t.c(),e=N()},l(l){t&&t.l(l),e=N()},m(l,a){t&&t.m(l,a),V(l,e,a)},p(l,[a]){l[0]?t?t.p(l,a):(t=ie(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(l){t&&t.d(l),l&&f(e)}}}function Ue(s,e,t){let{itemData:l}=e;function a(r){le.call(this,s,r)}function o(r){le.call(this,s,r)}return s.$$set=r=>{"itemData"in r&&t(0,l=r.itemData)},[l,a,o]}class Oe extends J{constructor(e){super(),Q(this,e,Ue,Le,Y,{itemData:0})}}function ne(s,e,t){const l=s.slice();return l[8]=e[t],l}function Ae(s){let e,t=s[11].message+"",l;return{c(){e=v("p"),l=B(t),this.h()},l(a){e=y(a,"P",{style:!0});var o=b(e);l=G(o,t),o.forEach(f),this.h()},h(){de(e,"color","red")},m(a,o){V(a,e,o),u(e,l)},p(a,o){o&2&&t!==(t=a[11].message+"")&&z(l,t)},i:L,o:L,d(a){a&&f(e)}}}function Be(s){var c;let e=[],t=new Map,l,a,o=(c=s[7])==null?void 0:c.items;const r=i=>i[8].snippet.resourceId.videoId;for(let i=0;i<o.length;i+=1){let n=ne(s,o,i),p=r(n);t.set(p,e[i]=re(p,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=N()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);l=N()},m(i,n){for(let p=0;p<e.length;p+=1)e[p].m(i,n);V(i,l,n),a=!0},p(i,n){var p;n&6&&(o=(p=i[7])==null?void 0:p.items,he(),e=me(e,n,r,1,i,o,t,l.parentNode,ye,re,l,ne),ve())},i(i){if(!a){for(let n=0;n<o.length;n+=1)R(e[n]);a=!0}},o(i){for(let n=0;n<e.length;n+=1)S(e[n]);a=!1},d(i){for(let n=0;n<e.length;n+=1)e[n].d(i);i&&f(l)}}}function re(s,e){let t,l,a;function o(){return e[6](e[8])}return l=new Oe({props:{itemData:e[8].snippet}}),l.$on("click",o),{key:s,first:null,c(){t=N(),Z(l.$$.fragment),this.h()},l(r){t=N(),F(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,c){V(r,t,c),W(l,r,c),a=!0},p(r,c){e=r;const i={};c&2&&(i.itemData=e[8].snippet),l.$set(i)},i(r){a||(R(l.$$.fragment,r),a=!0)},o(r){S(l.$$.fragment,r),a=!1},d(r){r&&f(t),X(l,r)}}}function Ge(s){let e,t;return{c(){e=v("p"),t=B("loading...")},l(l){e=y(l,"P",{});var a=b(e);t=G(a,"loading..."),a.forEach(f)},m(l,a){V(l,e,a),u(e,t)},p:L,i:L,o:L,d(l){l&&f(e)}}}function Ne(s){let e,t,l,a,o,r,c,i,n,p,w,d,k,C,U,_,m,T,D;function E(I){s[4](I)}let M={};s[0]!==void 0&&(M.playlistId=s[0]),r=new Pe({props:M}),ue.push(()=>pe(r,"playlistId",E));let g={ctx:s,current:null,token:null,hasCatch:!0,pending:Ge,then:Be,catch:Ae,value:7,error:11,blocks:[,,,]};return se(C=s[1],g),_=new Ve({props:{itemData:s[2]}}),{c(){e=v("div"),t=v("header"),l=v("p"),a=B("https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),o=O(),Z(r.$$.fragment),i=O(),n=v("button"),p=B("reload playlist"),w=O(),d=v("div"),k=v("div"),g.block.c(),U=O(),Z(_.$$.fragment),this.h()},l(I){e=y(I,"DIV",{class:!0});var $=b(e);t=y($,"HEADER",{class:!0});var P=b(t);l=y(P,"P",{});var H=b(l);a=G(H,"https://www.youtube.com/playlist?list=PL-py_l3i0_hUDb1-nIlV-cC40ktnPP-HC"),H.forEach(f),o=A(P),F(r.$$.fragment,P),i=A(P),n=y(P,"BUTTON",{});var x=b(n);p=G(x,"reload playlist"),x.forEach(f),P.forEach(f),w=A($),d=y($,"DIV",{class:!0});var q=b(d);k=y(q,"DIV",{class:!0});var ee=b(k);g.block.l(ee),ee.forEach(f),U=A(q),F(_.$$.fragment,q),q.forEach(f),$.forEach(f),this.h()},h(){h(t,"class","flex gap svelte-19mpaog"),h(k,"class","list svelte-19mpaog"),h(d,"class","grid gap svelte-19mpaog"),h(e,"class","flex main svelte-19mpaog")},m(I,$){V(I,e,$),u(e,t),u(t,l),u(l,a),u(t,o),W(r,t,null),u(t,i),u(t,n),u(n,p),u(e,w),u(e,d),u(d,k),g.block.m(k,g.anchor=null),g.mount=()=>k,g.anchor=null,u(d,U),W(_,d,null),m=!0,T||(D=K(n,"click",s[5]),T=!0)},p(I,[$]){s=I;const P={};!c&&$&1&&(c=!0,P.playlistId=s[0],fe(()=>c=!1)),r.$set(P),g.ctx=s,$&2&&C!==(C=s[1])&&se(C,g)||_e(g,s,$);const H={};$&4&&(H.itemData=s[2]),_.$set(H)},i(I){m||(R(r.$$.fragment,I),R(g.block),R(_.$$.fragment,I),m=!0)},o(I){S(r.$$.fragment,I);for(let $=0;$<3;$+=1){const P=g.blocks[$];S(P)}S(_.$$.fragment,I),m=!1},d(I){I&&f(e),X(r),g.block.d(),g.token=null,g=null,X(_),T=!1,D()}}}function Me(s,e,t){let l="",a,o;async function r(p){if(!p)throw new Error("");const w=await $e(p);if(w.ok){const d=await w.json();return console.log(d),d}else throw new Error("error")}function c(p){l=p,t(0,l)}const i=()=>r(l),n=p=>t(2,o=p.snippet);return s.$$.update=()=>{s.$$.dirty&1&&t(1,a=r(l))},[l,a,o,r,c,i,n]}class He extends J{constructor(e){super(),Q(this,e,Me,Ne,Y,{})}}export{He as default};
